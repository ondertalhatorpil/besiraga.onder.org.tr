{"ast":null,"code":"/**\n * Dosya: frontend/src/services/api.js\n * Açıklama: Backend API ile iletişim servisi\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n\n// Genel fetch fonksiyonu\nconst fetchAPI = async (endpoint, options = {}) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || 'Bir hata oluştu');\n    }\n    return data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Rezervasyon API'leri\nexport const rezervasyonAPI = {\n  // Tüm mekanları getir\n  getMekanlar: async () => {\n    return fetchAPI('/rezervasyon/mekanlar');\n  },\n  // Müsaitlik kontrolü\n  musaitlikKontrol: async data => {\n    return fetchAPI('/rezervasyon/musaitlik-kontrol', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    });\n  },\n  // Tarih doluluk durumu\n  getTarihDoluluk: async tarih => {\n    return fetchAPI(`/rezervasyon/tarih-doluluk/${tarih}`);\n  },\n  // Yeni rezervasyon oluştur\n  createRezervasyon: async data => {\n    return fetchAPI('/rezervasyon/create', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    });\n  },\n  // Rezervasyon detayı\n  getRezervasyonDetay: async id => {\n    return fetchAPI(`/rezervasyon/${id}`);\n  }\n};\n\n// Admin API'leri\nexport const adminAPI = {\n  // Login\n  login: async credentials => {\n    return fetchAPI('/admin/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  },\n  // Rezervasyonları listele\n  getRezervasyonlar: async (params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    return fetchAPI(`/admin/rezervasyonlar?${queryString}`);\n  },\n  // Rezervasyon detayı\n  getRezervasyonDetay: async id => {\n    return fetchAPI(`/admin/rezervasyon/${id}`);\n  },\n  // Rezervasyonu onayla\n  onaylaRezervasyon: async (id, admin_id) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/onayla`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        admin_id\n      })\n    });\n  },\n  // Rezervasyonu reddet\n  reddetRezervasyon: async (id, admin_id, red_nedeni) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/reddet`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        admin_id,\n        red_nedeni\n      })\n    });\n  },\n  // Rezervasyonu iptal et\n  iptalRezervasyon: async (id, admin_id) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/iptal`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        admin_id\n      })\n    });\n  },\n  // Dashboard istatistikleri\n  getDashboardStats: async () => {\n    return fetchAPI('/admin/dashboard');\n  }\n};\nexport default {\n  rezervasyonAPI,\n  adminAPI\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","fetchAPI","endpoint","options","response","fetch","headers","data","json","ok","Error","error","console","rezervasyonAPI","getMekanlar","musaitlikKontrol","method","body","JSON","stringify","getTarihDoluluk","tarih","createRezervasyon","getRezervasyonDetay","id","adminAPI","login","credentials","getRezervasyonlar","params","queryString","URLSearchParams","toString","onaylaRezervasyon","admin_id","reddetRezervasyon","red_nedeni","iptalRezervasyon","getDashboardStats"],"sources":["/Users/abdullah/Desktop/besiraga.org.tr/frontend/src/services/api.js"],"sourcesContent":["/**\n * Dosya: frontend/src/services/api.js\n * Açıklama: Backend API ile iletişim servisi\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n\n// Genel fetch fonksiyonu\nconst fetchAPI = async (endpoint, options = {}) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || 'Bir hata oluştu');\n    }\n\n    return data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Rezervasyon API'leri\nexport const rezervasyonAPI = {\n  // Tüm mekanları getir\n  getMekanlar: async () => {\n    return fetchAPI('/rezervasyon/mekanlar');\n  },\n\n  // Müsaitlik kontrolü\n  musaitlikKontrol: async (data) => {\n    return fetchAPI('/rezervasyon/musaitlik-kontrol', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  },\n\n  // Tarih doluluk durumu\n  getTarihDoluluk: async (tarih) => {\n    return fetchAPI(`/rezervasyon/tarih-doluluk/${tarih}`);\n  },\n\n  // Yeni rezervasyon oluştur\n  createRezervasyon: async (data) => {\n    return fetchAPI('/rezervasyon/create', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  },\n\n  // Rezervasyon detayı\n  getRezervasyonDetay: async (id) => {\n    return fetchAPI(`/rezervasyon/${id}`);\n  },\n};\n\n// Admin API'leri\nexport const adminAPI = {\n  // Login\n  login: async (credentials) => {\n    return fetchAPI('/admin/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials),\n    });\n  },\n\n  // Rezervasyonları listele\n  getRezervasyonlar: async (params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    return fetchAPI(`/admin/rezervasyonlar?${queryString}`);\n  },\n\n  // Rezervasyon detayı\n  getRezervasyonDetay: async (id) => {\n    return fetchAPI(`/admin/rezervasyon/${id}`);\n  },\n\n  // Rezervasyonu onayla\n  onaylaRezervasyon: async (id, admin_id) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/onayla`, {\n      method: 'PUT',\n      body: JSON.stringify({ admin_id }),\n    });\n  },\n\n  // Rezervasyonu reddet\n  reddetRezervasyon: async (id, admin_id, red_nedeni) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/reddet`, {\n      method: 'PUT',\n      body: JSON.stringify({ admin_id, red_nedeni }),\n    });\n  },\n\n  // Rezervasyonu iptal et\n  iptalRezervasyon: async (id, admin_id) => {\n    return fetchAPI(`/admin/rezervasyon/${id}/iptal`, {\n      method: 'PUT',\n      body: JSON.stringify({ admin_id }),\n    });\n  },\n\n  // Dashboard istatistikleri\n  getDashboardStats: async () => {\n    return fetchAPI('/admin/dashboard');\n  },\n};\n\nexport default { rezervasyonAPI, adminAPI };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}